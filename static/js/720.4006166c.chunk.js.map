{"version":3,"file":"static/js/720.4006166c.chunk.js","mappings":"iRAuGA,MAnFA,WACE,IAAAA,GAAwBC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA7BI,EAAIF,EAAA,GAAEG,EAAOH,EAAA,GACpBI,GAA8BL,EAAAA,EAAAA,UAAS,IAAGM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAAnCE,EAAOD,EAAA,GAAEE,EAAUF,EAAA,GAEpBG,GAAWC,EAAAA,EAAAA,MAEXC,GAAQC,EAAAA,EAAAA,IAAe,CAC3BC,UAAW,SAAAC,GACTV,EAAQU,EACV,EACAC,QAAS,SAAAC,GAAK,OAAIC,QAAQC,IAAI,gBAAiBF,EAAM,IAqCvD,OA7BAG,EAAAA,EAAAA,YAAU,WACJhB,IACFc,QAAQC,IAAIf,EAAKiB,cACjBC,EAAAA,EAAAA,IACO,8DAADC,OAC4DnB,EAAKiB,cACnE,CACEG,QAAS,CACPC,cAAc,UAADF,OAAYnB,EAAKiB,cAC9BK,OAAQ,sBAIbC,MAAK,SAAAC,GACJV,QAAQC,IAAIS,EAAIC,MAChBpB,EAAWmB,EAAIC,MACfnB,GACEoB,EAAAA,EAAAA,IAAS,CACPC,SAAUvB,EAAQwB,KAClBC,MAAOzB,EAAQyB,MACfC,SAAU9B,EAAKiB,eAGrB,IACCc,OAAM,SAAAC,GAAG,OAAIlB,QAAQC,IAAIiB,EAAI,IAGpC,GAAG,CAAChC,KAGFiC,EAAAA,EAAAA,KAACC,EAAAA,GAAS,CAAAC,UACRC,EAAAA,EAAAA,MAACC,EAAAA,GAAO,CAAAF,SAAA,EACNF,EAAAA,EAAAA,KAACK,EAAAA,GAAI,KACLF,EAAAA,EAAAA,MAACG,EAAAA,GAAW,CAAAJ,SAAA,EACVF,EAAAA,EAAAA,KAACO,EAAAA,GAAI,CAAAL,UACHF,EAAAA,EAAAA,KAAA,OAAKQ,KAAI,GAAAtB,OAAKuB,EAAAA,EAAK,mBAErBT,EAAAA,EAAAA,KAACU,EAAAA,GAAK,CAAAR,SAAC,iBAETF,EAAAA,EAAAA,KAACW,EAAAA,GAAI,CAAAT,SAAC,8HAINC,EAAAA,EAAAA,MAACS,EAAAA,GAAW,CAAAV,SAAA,EACVF,EAAAA,EAAAA,KAACa,EAAAA,GAAS,CAACC,GAAG,gBAAeZ,SAAC,kBAC9BF,EAAAA,EAAAA,KAACe,EAAAA,GAAS,CAACD,GAAG,aAAYZ,SAAC,WAC1B/B,GACCgC,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,OAAKgB,IAAK7C,EAAQ8C,QAASC,IAAI,iBAC/BlB,EAAAA,EAAAA,KAAA,MAAAE,SAAI,oBACJC,EAAAA,EAAAA,MAAA,KAAAD,SAAA,CAAG,SAAO/B,EAAQwB,SAClBQ,EAAAA,EAAAA,MAAA,KAAAD,SAAA,CAAG,kBAAgB/B,EAAQyB,UAC3BI,EAAAA,EAAAA,KAAA,UACAA,EAAAA,EAAAA,KAAA,UACAA,EAAAA,EAAAA,KAAA,UAAQmB,QA3DL,YACbC,EAAAA,EAAAA,MACAhD,EAAW,KACb,EAwDoC8B,SAAC,gBAG3BF,EAAAA,EAAAA,KAAA,UAAQmB,QAAS,kBAAM5C,GAAO,EAAC2B,SAAC,6CAM5C,EC1FA,EARoB,WAClB,OACEF,EAAAA,EAAAA,KAAA,OAAAE,UACEF,EAAAA,EAAAA,KAACqB,EAAO,KAGd,C","sources":["components/Welcome/Welcome.jsx","pages/WelcomePage/WelcomePage.jsx"],"sourcesContent":["import React from 'react';\nimport icons from '../../images/sprite.svg';\nimport { useState, useEffect } from 'react';\nimport { googleLogout, useGoogleLogin } from '@react-oauth/google';\nimport axios from 'axios';\nimport { useDispatch } from 'react-redux';\nimport { register } from '../../redux/auth/operations';\nimport {\n  Container,\n  Wrapper,\n  Logo,\n  LogoWrapper,\n  Icon,\n  Title,\n  Text,\n  AuthWrapper,\n  RegButton,\n  LogButton,\n} from './Welcome.styled';\n\nfunction Welcome() {\n  const [user, setUser] = useState([]);\n  const [profile, setProfile] = useState([]);\n\n  const dispatch = useDispatch();\n\n  const login = useGoogleLogin({\n    onSuccess: codeResponse => {\n      setUser(codeResponse);\n    },\n    onError: error => console.log('Login Failed:', error),\n  });\n\n  const logOut = () => {\n    googleLogout();\n    setProfile(null);\n  };\n\n  useEffect(() => {\n    if (user) {\n      console.log(user.access_token);\n      axios\n        .get(\n          `https://www.googleapis.com/oauth2/v1/userinfo?access_token=${user.access_token}`,\n          {\n            headers: {\n              Authorization: `Bearer ${user.access_token}`,\n              Accept: 'application/json',\n            },\n          }\n        )\n        .then(res => {\n          console.log(res.data);\n          setProfile(res.data);\n          dispatch(\n            register({\n              username: profile.name,\n              email: profile.email,\n              password: user.access_token,\n            })\n          );\n        })\n        .catch(err => console.log(err));\n    }\n    // eslint-disable-next-line\n  }, [user]);\n\n  return (\n    <Container>\n      <Wrapper>\n        <Logo />\n        <LogoWrapper>\n          <Icon>\n            <use href={`${icons}#icon-logo`} />\n          </Icon>\n          <Title>TASK PRO</Title>\n        </LogoWrapper>\n        <Text>\n          Supercharge your productivity and take control of your tasks with Task\n          Pro - Don't wait, start achieving your goals now!\n        </Text>\n        <AuthWrapper>\n          <RegButton to=\"auth/register\">Registration</RegButton>\n          <LogButton to=\"auth/login\">Log In</LogButton>\n          {profile ? (\n            <div>\n              <img src={profile.picture} alt=\"user avatar\" />\n              <h3>User Logged in</h3>\n              <p>Name: {profile.name}</p>\n              <p>Email Address: {profile.email}</p>\n              <br />\n              <br />\n              <button onClick={logOut}>Log out</button>\n            </div>\n          ) : (\n            <button onClick={() => login()}>Sign in with Google ðŸš€ </button>\n          )}\n        </AuthWrapper>\n      </Wrapper>\n    </Container>\n  );\n}\n\nexport default Welcome;\n","import React from 'react';\nimport Welcome from 'components/Welcome/Welcome';\n\nconst WelcomePage = () => {\n  return (\n    <div>\n      <Welcome />\n    </div>\n  );\n};\n\nexport default WelcomePage;\n"],"names":["_useState","useState","_useState2","_slicedToArray","user","setUser","_useState3","_useState4","profile","setProfile","dispatch","useDispatch","login","useGoogleLogin","onSuccess","codeResponse","onError","error","console","log","useEffect","access_token","axios","concat","headers","Authorization","Accept","then","res","data","register","username","name","email","password","catch","err","_jsx","Container","children","_jsxs","Wrapper","Logo","LogoWrapper","Icon","href","icons","Title","Text","AuthWrapper","RegButton","to","LogButton","src","picture","alt","onClick","googleLogout","Welcome"],"sourceRoot":""}